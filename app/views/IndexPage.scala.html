@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.cataloguefrontend.ViewMessages

@this(viewMessages: ViewMessages)
@(whatsNew: String, blogPosts: String)(implicit request: Request[_])

@standard_layout() {

    <section class="section-wrapper">
        <h1>Welcome to the Catalogue</h1>
        <p>Here you can explore information about all the
            <a href="./repositories?name=&type=Service" target="_blank">different services</a>
            and <a href="./repositories?name=&type=Library" target="_blank">libraries</a> in use on the platform,
            <a href="./whats-running-where" target="_blank">where they are running</a> and
            their <a href="./deployments/production" target="_blank">recent deployments</a>,
            what <a href="./dependencyexplorer" target="_blank">dependencies</a>
            and config they use, and <a href="./teams" target="_blank">who</a> maintains them.
            You can also <a href="./shuttering-overview/frontend" target="_blank">shutter your service</a> to the outside world,
            <a href="./bobbyrules" target="_blank">view bobby rules</a>, see what
            <a href="./jdkexplorer" target="_blank">JDK versions are in use</a>, discover
            <a href="./search#" target="_blank">which service corresponds to a given URL</a>, and see how we're doing
            <a href="./future-platform-migration" target="_blank">migrating to the Future Platform</a>. And more to come!

        <h2>What's new?</h2>
        We're adding new features all the time and will highlight key ones here. If you have any ideas for something you would like to see, contact
        us in <a href="https://hmrcdigital.slack.com/messages/team-platops/" target="_blank">#team-platops<span class="glyphicon glyphicon-new-window"/></a>.

        <div id="whats-new" class="recent-box">
            <div class="recent-box-grow">
                <div class='recent-box-collapse'>
                    @Html(whatsNew)
                </div>
            </div>
            <a href="#" class="recent-box-expand-link">See all...</a>
        </div>

        <h2>Blog Posts</h2>
        These are all the recent blog posts published by PlatOps, right here for your convenience!

        <div id="blog-posts" class="recent-box">
            <div class="recent-box-grow">
                <div class='recent-box-collapse'>
                    @Html(blogPosts)
                </div>
            </div>
            <a href="#" class="recent-box-expand-link">See all...</a>
        </div>

    </section>

    <section class="section-wrapper">
        <h2 id="maintenance">How is the catalogue updated?</h2>

        <p>All the data you see here is pulled and rendered automatically from various sources including Github and UMP.
            If you <span id="egg">notice something</span> is not quite right you can usually fix it by updating those directly, and when we next refresh
            the data you will see it change here.

            If you have any queries, feel free to reach out to <a href="https://hmrcdigital.slack.com/messages/team-platops/" target="_blank">#team-platops<span class="glyphicon glyphicon-new-window"/></a>
        </p>

        <div class="platops" id="platops">
            <div class="neon-center"><span class="fast-flicker">Brough</span>t__to__y<span class="flicker">o</span>u__by__Team__Platops</div>
            <div class="neon-random"><span class="fast-flicker">m</span>a<span class="flicker">t</span>t</div>
            <div class="neon-random"><span class="fast-flicker">all</span>e<span class="flicker">n</span></div>
            <div class="neon-random"><span class="fast-flicker">c</span>h<span class="flicker">ri</span>s</div>
            <div class="neon-random"><span class="fast-flicker">i</span>a<span class="flicker">n</span></div>
            <div class="neon-random"><span class="flicker">c</span>ol<span class="fast-flicker">i</span>n</div>
            <div class="neon-random"><span class="fast-flicker">t</span>i<span class="flicker">m</span></div>
            <div class="neon-random"><span class="fast-flicker">ma</span>r<span class="flicker">c</span>us</div>
            <div class="neon-random"><span class="flicker">su</span>n<span class="fast-flicker">n</span>y</div>
            <div class="neon-random"><span class="fast-flicker">n</span>ig<span class="flicker">e</span>l</div>
            <div class="neon-random"><span class="fast-flicker">c</span>ol<span class="flicker">i</span>n</div>
            <div class="neon-random"><span class="flicker">jo</span>a<span class="fast-flicker">nna</span></div>
            <div class="neon-random"><span class="fast-flicker">i</span>a<span class="flicker">n</span></div>
        </div>
    </section>
}

<!-- :) -->
<script src="@routes.Assets.at("egg.js")"></script>
<link rel="stylesheet" href="@routes.Assets.at("egg.css")" />